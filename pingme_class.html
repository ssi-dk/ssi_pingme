<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Additional Learning Resources – ssi_pingme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ae44de7e3b26b230a7801128389852ee.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Additional Learning Resources – ssi_pingme">
<meta property="og:description" content="TODO">
<meta property="og:site_name" content="ssi_pingme">
<meta name="twitter:title" content="Additional Learning Resources – ssi_pingme">
<meta name="twitter:description" content="TODO">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ssi_pingme</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./pingme_class.html">Additional Learning Resources</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ssi_pingme</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Global static vars</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pingme_class.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Additional Learning Resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_pingme_services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02_pingme_services.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pingme_api.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pingme API</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#libraries" id="toc-libraries" class="nav-link active" data-scroll-target="#libraries">Libraries</a>
  <ul class="collapse">
  <li><a href="#card" id="toc-card" class="nav-link" data-scroll-target="#card">Card</a></li>
  <li><a href="#resolved_payload" id="toc-resolved_payload" class="nav-link" data-scroll-target="#resolved_payload">resolved_payload</a></li>
  <li><a href="#pingme" id="toc-pingme" class="nav-link" data-scroll-target="#pingme">PingMe</a></li>
  <li><a href="#send_to_webhook" id="toc-send_to_webhook" class="nav-link" data-scroll-target="#send_to_webhook">send_to_webhook</a></li>
  <li><a href="#pingme.send_webhook" id="toc-pingme.send_webhook" class="nav-link" data-scroll-target="#pingme.send_webhook">PingMe.send_webhook</a></li>
  <li><a href="#send_to_email" id="toc-send_to_email" class="nav-link" data-scroll-target="#send_to_email">send_to_email</a></li>
  </ul></li>
  <li><a href="#note-wondering-if-i-should-do-something-more-like-httpslearn.microsoft.comen-usgraphapiuser-sendmailviewgraph-rest-1.0tabshttp" id="toc-note-wondering-if-i-should-do-something-more-like-httpslearn.microsoft.comen-usgraphapiuser-sendmailviewgraph-rest-1.0tabshttp" class="nav-link" data-scroll-target="#note-wondering-if-i-should-do-something-more-like-httpslearn.microsoft.comen-usgraphapiuser-sendmailviewgraph-rest-1.0tabshttp">NOTE: Wondering if I should do something more like https://learn.microsoft.com/en-us/graph/api/user-sendmail?view=graph-rest-1.0&amp;tabs=http*</a>
  <ul class="collapse">
  <li><a href="#pingme.send_email" id="toc-pingme.send_email" class="nav-link" data-scroll-target="#pingme.send_email">PingMe.send_email</a></li>
  <li><a href="#send_to_logfile" id="toc-send_to_logfile" class="nav-link" data-scroll-target="#send_to_logfile">send_to_logfile</a></li>
  <li><a href="#pingme.send_logfile" id="toc-pingme.send_logfile" class="nav-link" data-scroll-target="#pingme.send_logfile">PingMe.send_logfile</a></li>
  <li><a href="#cli" id="toc-cli" class="nav-link" data-scroll-target="#cli">cli</a></li>
  <li><a href="#cli_batch" id="toc-cli_batch" class="nav-link" data-scroll-target="#cli_batch">cli_batch</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/$GIT_USER_NAME/pingme/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Additional Learning Resources</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<p>Now that you’ve finished the getting started in <code>./GETTING_STARTED_WITH_TEMPLATE.md</code>, you’ll notice the directory has many new files and folders. In this example <code>$YOUR_REPO_NAME</code> is <code>template_nbdev_example</code> so be sure to adjust accordingly.</p>
<p>There’s now</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./_docs</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">.quarto</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example</span> <span class="co"># This is the code autogenerated from the notebooks, you should only adjust this through your notebooks</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example/__pycache__</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example/__init__.py</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example/_modidx.py</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example/core.py</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example/hello_world.py</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ex">./template_nbdev_example.egg-info</span> <span class="co"># This is metadata about the package for pip</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="ex">_quarto.yml</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="ex">index.ipynb</span> <span class="co"># This is a notebook for showing how the program works and generated the README.md, you should adjust this</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="ex">MANIFEST.in</span> <span class="co"># This determines what files outside of .py files are included in the package, you may need to adjust it.</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="ex">README.md</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="ex">setup.py</span> <span class="co"># This is the file that tells pip how to install the package, you shouldn't need to edit this ever</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="ex">styles.css</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>If you want to check what you’re documentation looks like run <code>nbdev_preview</code> in command line of the project folder</p>
</blockquote>
<section id="libraries" class="level1">
<h1>Libraries</h1>
<p>Here we include all the libraries of this module. You can see they’re sectioned so the top parts can be easy cut and paste into new files.</p>
<p>Normally your imports go into Project specific libraries above, but we’ll put it in a code block here. In this example you’ll want to comment out the code below, because YOUR_REPO_NAME changes with each repository, it’ll cause issues if you try to run it with a different repository name</p>
<p>Because the notebooks now are located in the <code>nbs</code> folder, we need to change the python <code>wd</code> for the notebook to the project folder. Keep this included in all notebooks but don’t export it to the package.</p>
<div id="cell-7" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This block should never be exported. It is to have python running in the project (and not the nbs) dir, and to initiate the package using pip.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>os.chdir(core.PROJECT_DIR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now you have access to your functions in core.py and call call them here.</p>
<p>NOTE: if you change another notebook, run nbdev_prepare, and restart your current kernel to see the changes</p>
<p>Here we’ll load the config file values, note that the file isn’t exported so is for development and documentation purposes.</p>
<blockquote class="blockquote">
<p><strong>A note on config files</strong>: The final package should only contain <code>config.default.*</code> files. These files are located in <em>package dir</em> <code>PACKAGE_DIR/config</code>. For development, custom config files can be specified in the <em>project dir</em> <code>PROJECT_DIR/config/</code> folder. These files will not be shipped with the package, but for development, they can be accessed from the project dir (thanks to to code above), which usually is your working directory in terminal while developping.</p>
</blockquote>
<p>Lets look at our values, as we have a dictionary, that can be viewed more nicely as a json object</p>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L42" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="card" class="level3">
<h3 class="anchored" data-anchor-id="card">Card</h3>
<blockquote class="blockquote">
<pre><code> Card (name:str, context:dict)</code></pre>
</blockquote>
<p>*Usage docs: https://docs.pydantic.dev/2.10/concepts/models/</p>
<p>A base class for creating Pydantic models.</p>
<p>Attributes: <strong>class_vars</strong>: The names of the class variables defined on the model. <strong>private_attributes</strong>: Metadata about the private attributes of the model. <strong>signature</strong>: The synthesized <code>__init__</code> [<code>Signature</code>][inspect.Signature] of the model.</p>
<pre><code>__pydantic_complete__: Whether model building is completed, or if there are still undefined fields.
__pydantic_core_schema__: The core schema of the model.
__pydantic_custom_init__: Whether the model has a custom `__init__` function.
__pydantic_decorators__: Metadata containing the decorators defined on the model.
    This replaces `Model.__validators__` and `Model.__root_validators__` from Pydantic V1.
__pydantic_generic_metadata__: Metadata for generic models; contains data used for a similar purpose to
    __args__, __origin__, __parameters__ in typing-module generics. May eventually be replaced by these.
__pydantic_parent_namespace__: Parent namespace of the model, used for automatic rebuilding of models.
__pydantic_post_init__: The name of the post-init method for the model, if defined.
__pydantic_root_model__: Whether the model is a [`RootModel`][pydantic.root_model.RootModel].
__pydantic_serializer__: The `pydantic-core` `SchemaSerializer` used to dump instances of the model.
__pydantic_validator__: The `pydantic-core` `SchemaValidator` used to validate instances of the model.

__pydantic_fields__: A dictionary of field names and their corresponding [`FieldInfo`][pydantic.fields.FieldInfo] objects.
__pydantic_computed_fields__: A dictionary of computed field names and their corresponding [`ComputedFieldInfo`][pydantic.fields.ComputedFieldInfo] objects.

__pydantic_extra__: A dictionary containing extra values, if [`extra`][pydantic.config.ConfigDict.extra]
    is set to `'allow'`.
__pydantic_fields_set__: The names of fields explicitly set during instantiation.
__pydantic_private__: Values of private attributes set on the model instance.*</code></pre>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L51" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="resolved_payload" class="level3">
<h3 class="anchored" data-anchor-id="resolved_payload">resolved_payload</h3>
<blockquote class="blockquote">
<pre><code> resolved_payload (template:&lt;module'json'from'/opt/hostedtoolcache/Python/
                   3.10.16/x64/lib/python3.10/json/__init__.py'&gt;,
                   context:dict)</code></pre>
</blockquote>
<p>*Resolves the payload by substituting variables in the <code>payload</code> with values from the <code>context</code> and ensures all variables are accounted for</p>
<p>Args: template: json, the payload to be resolved context: dict, the values to substitute into the payload</p>
<p>Returns: json, the resolved payload*</p>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L75" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="pingme" class="level3">
<h3 class="anchored" data-anchor-id="pingme">PingMe</h3>
<blockquote class="blockquote">
<pre><code> PingMe (card:__main__.Card, config_file=None)</code></pre>
</blockquote>
<p><em>PingMe class which notifies via either a webhook or email</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>card</td>
<td>Card</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>config_file</td>
<td>NoneType</td>
<td>None</td>
<td>Extension of card file</td>
</tr>
</tbody>
</table>
<div id="cell-14" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>config <span class="op">=</span> core.get_config(<span class="st">"./config/config.env"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>card <span class="op">=</span> Card.model_validate(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"name"</span>: config[<span class="st">"pingme"</span>][<span class="st">"user_input"</span>][<span class="st">"card"</span>][<span class="st">"name"</span>],</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"context"</span>: config[<span class="st">"pingme"</span>][<span class="st">"user_input"</span>][<span class="st">"card"</span>][<span class="st">"context"</span>],</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>pingme <span class="op">=</span> PingMe(card, config_file<span class="op">=</span><span class="st">"./config/config.env"</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>pingme.payload</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lets add a test here as well, which will get run through <code>./.github/workflows/test.yaml</code> whenever changes happen to the repository</p>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L133" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="send_to_webhook" class="level3">
<h3 class="anchored" data-anchor-id="send_to_webhook">send_to_webhook</h3>
<blockquote class="blockquote">
<pre><code> send_to_webhook (url:str, payload:&lt;module'json'from'/opt/hostedtoolcache/
                  Python/3.10.16/x64/lib/python3.10/json/__init__.py'&gt;, he
                  ader:&lt;module'json'from'/opt/hostedtoolcache/Python/3.10.
                  16/x64/lib/python3.10/json/__init__.py'&gt;={'Content-
                  Type': 'application/json'})</code></pre>
</blockquote>
<p>*Sends a message to a webhook</p>
<p>Args: url: str, the webhook URL payload: json, the payload to be sent header: json, the header to be sent</p>
<p>Returns: json, the response from the webhook*</p>
<div id="cell-17" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> fastcore.test.ExceptionExpected():</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    send_to_webhook(<span class="st">"https://badhost"</span>, json.dumps(pingme.payload))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L158" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="pingme.send_webhook" class="level3">
<h3 class="anchored" data-anchor-id="pingme.send_webhook">PingMe.send_webhook</h3>
<blockquote class="blockquote">
<pre><code> PingMe.send_webhook ()</code></pre>
</blockquote>
<div id="cell-19" class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pingme.webhook</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-20" class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.post(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    pingme.webhook[<span class="st">"url"</span>],</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>json.dumps(pingme.payload),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    headers<span class="op">=</span>{<span class="st">"Content-Type"</span>: <span class="st">"application/json"</span>},</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># empty response is normal</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L166" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="send_to_email" class="level3">
<h3 class="anchored" data-anchor-id="send_to_email">send_to_email</h3>
<blockquote class="blockquote">
<pre><code> send_to_email (payload:&lt;module'json'from'/opt/hostedtoolcache/Python/3.10
                .16/x64/lib/python3.10/json/__init__.py'&gt;, subject:str,
                from_:str, to:str, host:str, port:int=25, user=None,
                password=None)</code></pre>
</blockquote>
<p>*Sends a message to an email address</p>
<p>Args: payload: json, the payload to be sent subject: str, the subject of the email from_: str, the sender of the email to: str, the recipient of the email host: str, the host of the email server port: int, the port of the email server user: str, the username of the email server password: str, the password of the email server</p>
<p>Returns: dict, the response from the email server</p>
</section>
</section>
<section id="note-wondering-if-i-should-do-something-more-like-httpslearn.microsoft.comen-usgraphapiuser-sendmailviewgraph-rest-1.0tabshttp" class="level1">
<h1>NOTE: Wondering if I should do something more like https://learn.microsoft.com/en-us/graph/api/user-sendmail?view=graph-rest-1.0&amp;tabs=http*</h1>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L224" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="pingme.send_email" class="level3">
<h3 class="anchored" data-anchor-id="pingme.send_email">PingMe.send_email</h3>
<blockquote class="blockquote">
<pre><code> PingMe.send_email ()</code></pre>
</blockquote>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L239" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="send_to_logfile" class="level3">
<h3 class="anchored" data-anchor-id="send_to_logfile">send_to_logfile</h3>
<blockquote class="blockquote">
<pre><code> send_to_logfile (logfile:str, title:str, text:str)</code></pre>
</blockquote>
<p>*Send message to logfile</p>
<p>Args: logfile: str, the path to the logfile title: str, the title of the message text: str, the text of the message</p>
<p>Returns: dict, the response from the logfile</p>
<p>TODO: The log file only logs title and text right now (not payload), while payload can be included it is not good for parsing. Need to think of a solution for this. Could be to save each payload as a seperate file and the log is a list of files.*</p>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L263" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="pingme.send_logfile" class="level3">
<h3 class="anchored" data-anchor-id="pingme.send_logfile">PingMe.send_logfile</h3>
<blockquote class="blockquote">
<pre><code> PingMe.send_logfile ()</code></pre>
</blockquote>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L270" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="cli" class="level3">
<h3 class="anchored" data-anchor-id="cli">cli</h3>
<blockquote class="blockquote">
<pre><code> cli (context:str=None, webhook:bool=None, email:bool=None,
      logfile:bool=None, example:bool=None, config_file:str=None)</code></pre>
</blockquote>
<p>*PingMe send a notification to a webhook, email, or log file.</p>
<p>Usage examples: - basic: pingme –context ‘{“title”:“Test Title”, “text”:“Test Text”}’ –webhook - advanced: pingme –config_file ./config/config.env –context ‘{“title”:“Test Title”, “text”:“Test Text”}’ –webhook –email –logfile –card_name default –card_dir ./cards/ –card_ext .yaml NOTE: Will require use of ./cards/default.yaml and ./config/config.default.env to be set up properly</p>
<p>Returns: bool, True if successful, False if not*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>context</td>
<td>str</td>
<td>None</td>
<td>string denoting a json object with context variables (e.g.&nbsp;‘{“title”:“Test Title”, “text”:“Test Text”}’)</td>
</tr>
<tr class="even">
<td>webhook</td>
<td>bool</td>
<td>None</td>
<td>attempts to send to webhook</td>
</tr>
<tr class="odd">
<td>email</td>
<td>bool</td>
<td>None</td>
<td>attempts to send to email</td>
</tr>
<tr class="even">
<td>logfile</td>
<td>bool</td>
<td>None</td>
<td>attempts to send to logfile</td>
</tr>
<tr class="odd">
<td>example</td>
<td>bool</td>
<td>None</td>
<td>Runs with example params, if it doesn’t work config values haven’t been set properly</td>
</tr>
<tr class="even">
<td>config_file</td>
<td>str</td>
<td>None</td>
<td>config file to set env vars from</td>
</tr>
</tbody>
</table>
<div id="cell-26" class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>cli(context<span class="op">=</span><span class="st">'{"title":"Test Title", "text":"Test Text"}'</span>, webhook<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/$GIT_USER_NAME/pingme/blob/main/pingme/pingme_class.py#L314" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="cli_batch" class="level3">
<h3 class="anchored" data-anchor-id="cli_batch">cli_batch</h3>
<blockquote class="blockquote">
<pre><code> cli_batch (task_file:str=None, config_file:str=None)</code></pre>
</blockquote>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>task_file</td>
<td>str</td>
<td>None</td>
<td>task file to run a batch, used exclusively of other other variables</td>
</tr>
<tr class="even">
<td>config_file</td>
<td>str</td>
<td>None</td>
<td>config file to set env vars from</td>
</tr>
</tbody>
</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/$GIT_USER_NAME\.github\.io\/pingme");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/$GIT_USER_NAME/pingme/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>